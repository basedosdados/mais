isntall.packages("cli")
install.packages("cli")
usethis::use_package("cli")
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ol()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
{
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
}
library(devtools)
library(tidyverse)
library(magrittr)
install.packages("devtools")
library(devtools)
library(tidyverse)
library(magrittr)
load_all()
install.packages("googleAuthR")
load_all()
library(devtools)
library(tidyverse)
library(magrittr)
source("R/python_port.R")
source("R/billing.R")
query_exemplo <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
library(dotenv)
install.packages('dotenv')
library(dotenv)
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/billing.R', echo=TRUE)
set_billing_id(Sys.getenv('project_id'))
query_exemplo <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
billing_project_id = get_billing_id()
get_billing_id()
Sys.getenv("billing_project_set")
!Sys.getenv("billing_project_set")
! Sys.getenv("billing_project_set")
Sys.getenv("billing_project_set") == FALSE
!FALSE
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/billing.R', echo=TRUE)
billing_project_id = get_billing_id()
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
savepath = getwd()
page_size = 1000
bigrquery::bq_project_query(
get_billing_id(),
query = query) %>%
bigrquery::bq_table_download(page_size = page_size, bigint = "integer64")
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
bigrquery::bq_project_query(
billing_project_id,
query = query) %>%
bigrquery::bq_table_download(page_size = page_size, bigint = "integer64")
download(query)
read_sql(query)
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/python_port.R', echo=TRUE)
read_sql(query)
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
read_sql(query)
get_billing_id()
use_package("magrittr")
devtools::document()
Sys.getlocale()
Sys.setLocale("LC_ALL","ENG")
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query)
read_sql(query)
Sys.getenv("putamerda")
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query)
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query, "pip_per_capita_municipios.csv")
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query, "pip_per_capita_municipios.csv")
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query, "pip_per_capita_municipios.csv")
read_sql(query)
usethis::use_testthat()
use_this()
library(usethis)
use_this()
use_test()
(function (x, y) x + y) (1, 2)
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
expect_error(
download(
"select * from basedosdados.br_ibge_populacao.municipios limit 3"))
library(testthat)
expect_error(
download(
"select * from basedosdados.br_ibge_populacao.municipios limit 3"))
mtcars
class(as_tibble(mtcars))
expect_s3_class(as_tibble(mtcars)),  "tbl_df"
expect_s3_class(as_tibble(mtcars),  "tbl_df")
list.files(getwd())
purrr::keep(list.files(getwd()), ~ stringr::str_detect(.x, ".env"))
readline("asioudhaiosudyfh")
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y / n]
"))
env_files <- purrr::keep(list.files(getwd()), ~ stringr::str_detect(.x, ".env"))
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y / n]
"))
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y / n]
"))
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y // n]"))
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y \ n]"))
if(length(env_files) == 1) {
readline(glue::glue(
"There is a dotenv file in the working directory.
If you've already set the ´billing_project_id´ environment variable, it's safe to press N.
If not, then the value attributed to ´billing_project_id´ in {env_files} can be set.
Would you like to proceed? [y \ n]"))
}
check()
check()
install()
check()
check()
test_check("basedosdados")
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/billing.R', encoding = 'UTF-8', echo=TRUE)
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/python_port.R', echo=TRUE)
check()
check()
library(devtools)
install()
install()
install()
library(devtools)
install()
install()
test_check("basedosdados")
library(testthat)
library(basedosdados)
test_check("basedosdados")
test_check("basedosdados")
test_local()
test_local()
test_local()
bq_auth()
bigrquery::bq_auth()
test_local()
test_local()
library(testthat)
library(basedosdados)
test_check("basedosdados")
test_local("basedosdados")
.libPaths
.libPaths()
library(testthat)
library(basedosdados)
test_local("basedosdados")
test_local()
install()
devtools::install()
devtools::install()
usethis::use_testthat()
source('C:/Users/pedro/Desktop/Cava/mais/r-package/tests/testthat.R', echo=TRUE)
usethis::use_testthat()
usethis::use_test("read_sql retorna um tibble")
test_check("basedosdados")
test_local()
test_check("basedosdados")
rlang::last_error()
testthat::test_dir()
rlang::last_trace()
test_package()
test_package("basedosdados")
devtools::test()
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: apoia.se/basedosdados")
cli::cli_li("Github: github.com/basedosdados")
cli::cli_li("Discord: discord.gg/tuaFbAPeq5")
cli::cli_li("LinkedIn: linkedin.com/company/base-dos-dados")
cli::cli_li("Newsletter: tinyletter.com/basedosdados")
}
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: apoia.se/basedosdados")
cli::cli_li("Github: github.com/basedosdados")
cli::cli_li("Discord: discord.gg/tuaFbAPeq5")
cli::cli_li("LinkedIn: linkedin.com/company/base-dos-dados")
cli::cli_li("Newsletter: tinyletter.com/basedosdados")
{
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: apoia.se/basedosdados")
cli::cli_li("Github: github.com/basedosdados")
cli::cli_li("Discord: discord.gg/tuaFbAPeq5")
cli::cli_li("LinkedIn: linkedin.com/company/base-dos-dados")
cli::cli_li("Newsletter: tinyletter.com/basedosdados")}
{  cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
#  cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: apoia.se/basedosdados")
cli::cli_li("Github: github.com/basedosdados")
cli::cli_li("Discord: discord.gg/tuaFbAPeq5")
cli::cli_li("LinkedIn: linkedin.com/company/base-dos-dados")
cli::cli_li("Newsletter: tinyletter.com/basedosdados")}
devtools::document()
devtools::build(path = getwd())
devtools::check()
devtools::check()
devtools::check()
devtools::document()
warnings()
devtools::document()
devtools::check()
devtools::check()
devtools::check()
install.packages("writexl")
devtools::check()
usethis::use_build_ignore("Keys.env")
usethis::use_build_ignore("keys.env")
usethis::use_build_ignore("*.tar.gz")
usethis::use_build_ignore("*.Rproj")
check()
devtools::check()
usethis::use_build_ignore("[.]Rproj$")
usethis::use_build_ignore("[.]tar.gz$")
usethis::use_build_ignore("[.]env$")
devtools::check()
devtools::check()
devtools::check()
usethis::use_build_ignore("[.]tar.gz$", escape = FALSE)
usethis::use_build_ignore()
usethis::use_build_ignore(c("keys.env", "basedosdados.Rproj", "basedosdados_0.0.3.tar.gz"))
check()
devtools:check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools??build()
devtools::build()
